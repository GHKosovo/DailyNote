## 享元模式

享元模式（Flyweight Pattern）主要用于减少创建对象的数量，以减少内存占用和提高性能。属于结构型模式。

享元模式禅师重用现有的同类对象，如果未找到匹配的对象，则创建新对象。

### 主要解决

有大量对象时，有可能会造成内存溢出，我们把其中共同的部分抽象出来，如果有相同的业务请求，直接返回在内存钟已有的对象，避免重新创建。

### 如何解决

用唯一标识码判断，如果在内存中，则返回这个唯一标识码所标识的对象。

### 关键代码

用HashMap存储这些对象。

### 应用实例

1. Java中的String，如果有则返回，没有则创建一个字符串，保存在字符串缓存池里面。

2. 数据库的数据池

### 内部状态和外部状态

内部状态指对象共享出来的信息，存储在享元对象内部且不会随着环境的改变而改变。

外部状态指对象得以依赖的一个标记，随环境改变而改变，不可共享的状态。