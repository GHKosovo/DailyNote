响应头的设置：

```
Content-Type: application/octet-stream
Content-Disposition: attachment; filename="picture.png"
```

表示“我不清楚代码内容，请把其保存为一个文件，最好命名为picture.png”。

```
Content-Type: image/png
Content-Disposition: attachment; filename="picture.png"
```

表示“这是一个PNG图像，请将其保存为一个文件，最好命名为picture.png”。

```
Content-Type: image/png
Content-Disposition: inline; filename="picture.png"
```

表示“这是一个PNG图像，除非你不知道如何显示PNG图像，否则请显示它，如果用户选择保存它，我们建议文件名保存为picture.png”。

1.outputstream.flush/[close](https://www.cnblogs.com/shenpengyan/p/6117814.html)

2.

```
if (!f.exists()) {
        response.sendError(404, "File not found!");
        return;
      }
```

3.https://www.cnblogs.com/xiaoyue1606bj/p/10985764.html